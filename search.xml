<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>æœ€é•¿åˆæ³•æ‹¬å·</title>
      <link href="/dp_2/"/>
      <url>/dp_2/</url>
      
        <content type="html"><![CDATA[<p><img src="https://s2.ax1x.com/2019/03/28/AwB7Sx.png" alt="AwB7Sx.png"><br><a id="more"></a></p><h3 id="Given-a-string-containing-just-the-characters-â€˜-â€˜-and-â€˜-â€™-find-the-length-of-the-longest-valid-well-formed-parentheses-substring"><a href="#Given-a-string-containing-just-the-characters-â€˜-â€˜-and-â€˜-â€™-find-the-length-of-the-longest-valid-well-formed-parentheses-substring" class="headerlink" title="Given a string containing just the characters â€˜(â€˜ and â€˜)â€™, find the length of the longest valid (well-formed) parentheses substring."></a>Given a string containing just the characters â€˜(â€˜ and â€˜)â€™, find the length of the longest valid (well-formed) parentheses substring.</h3><p>Example 1:</p><p>Input: â€œ(()â€<br>Output: 2<br>Explanation: The longest valid parentheses substring is â€œ()â€</p><p>Example 2:</p><p>Input: â€œ)()())â€<br>Output: 4<br>Explanation: The longest valid parentheses substring is â€œ()()â€</p><h2 id="é¢˜æ„åˆ†æ"><a href="#é¢˜æ„åˆ†æ" class="headerlink" title="é¢˜æ„åˆ†æ"></a>é¢˜æ„åˆ†æ</h2><p>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²sï¼Œè¿”å›å®ƒæœ€é•¿åˆæ³•æ‹¬å·çš„é•¿åº¦ã€‚</p><p>(å…·ä½“æ–¹æ³•æ¥è‡ª<a href="https://leetcode.com/problems/longest-valid-parentheses/solution/" target="_blank" rel="noopener">https://leetcode.com/problems/longest-valid-parentheses/solution/</a>)</p><h3 id="åŠ¨æ€è§„åˆ’"><a href="#åŠ¨æ€è§„åˆ’" class="headerlink" title="åŠ¨æ€è§„åˆ’"></a>åŠ¨æ€è§„åˆ’</h3><p>æˆ‘ä»¬ç”¨dp[i]æ¥è¡¨ç¤ºåŒºé—´[0,i]ä¸­æœ€é•¿åˆæ³•æ‹¬å·çš„é•¿åº¦.</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬è¿˜æ˜¯æ‰¾å‡ºé€’æ¨å…³ç³»å¼ï¼š<br>1.dp[i]=dp[i-2]+2,å¦‚æœs.charAt(i)==â€™)â€™ &amp;&amp; s.charAt(i-1)==â€™(â€˜.<br>è¿™ä¸ªå¾ˆå¥½ç†è§£ï¼Œæˆ‘ä»¬å·²ç»å¾—åˆ°äº†dp[i-2]çš„å€¼ï¼Œè¡¨æ˜åŒºé—´[0,i-2]çš„åˆæ³•æ‹¬å·é•¿åº¦ï¼Œæˆ‘ä»¬æ ¹æ®s[i-1]==â€™(â€˜å’Œs[i]==â€™)â€™åˆå¾—åˆ°ä¸€å¯¹æ‹¬å·ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨dp[i-2]çš„åŸºç¡€ä¸ŠåŠ ä¸Š2.<br>2.dp[i]=dp[i-1]+dp[i-dp[i-1]-2]+2,å¦‚æœs.charAt(i)==â€™)â€™ &amp;&amp; s.charAt(i-dp[i-1]-1)==â€™(â€˜.<br>ç°åœ¨æˆ‘ä»¬å¾—åˆ°äº†s[i-dp[i-1]-1]==â€™(â€˜ä¸s[i]==â€™)â€™åŒ¹é…ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨dp[i-1]çš„é•¿åº¦åŸºç¡€ä¸ŠåŠ ä¸Š2,ä½†æ­¤æ—¶[i-dp[i-1]-1,i]å·²ç»å®Œå…¨åŒ¹é…ï¼Œæˆ‘ä»¬è¿˜è¦è€ƒè™‘ä¸[0,i-dp[i-1]-2]çš„å·²ç»åˆæ³•çš„é•¿åº¦å¯¹æ¥ï¼Œå›ºè¿˜è¦åŠ ä¸Šdp[i-dp[i-1]-2].</p><p>ä»¥ä¸‹æ˜¯ä»£ç :<br><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span> longestValidParentheses(<span class="keyword">String</span> s)</span><br><span class="line">&#123;</span><br><span class="line">     <span class="keyword">int</span> maxlen = <span class="number">0</span>;</span><br><span class="line">     <span class="keyword">int</span>[] dp=<span class="keyword">new</span> <span class="keyword">int</span>[s.length()];</span><br><span class="line">     <span class="built_in">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;s.length();i++)</span><br><span class="line">     &#123;</span><br><span class="line">         <span class="built_in">if</span>(s.charAt(i)==<span class="string">')'</span> &amp;&amp; s.charAt(i<span class="number">-1</span>)==<span class="string">'('</span>)  <span class="comment">//ç¬¬ä¸€ç§æƒ…å†µ</span></span><br><span class="line">         &#123;</span><br><span class="line">             dp[i]=(i&gt;=<span class="number">2</span>?dp[i<span class="number">-2</span>]:<span class="number">0</span>)+<span class="number">2</span>;   <span class="comment">//æ³¨æ„i-2&gt;=0.</span></span><br><span class="line">         &#125;</span><br><span class="line">         <span class="built_in">if</span>(i-dp[i<span class="number">-1</span>]<span class="number">-1</span>&gt;=<span class="number">0</span> &amp;&amp; s.charAt(i)==<span class="string">')'</span> &amp;&amp; s.charAt(i-dp[i<span class="number">-1</span>]<span class="number">-1</span>)==<span class="string">'('</span>) <span class="comment">//ç¬¬äºŒç§æƒ…å†µ,i-dp[i-1]-1&gt;=0</span></span><br><span class="line">         &#123;</span><br><span class="line">             dp[i]=dp[i<span class="number">-1</span>]+(i-dp[i<span class="number">-1</span>]<span class="number">-2</span>&gt;=<span class="number">0</span>? dp[i-dp[i<span class="number">-1</span>]<span class="number">-2</span>]:<span class="number">0</span>)+<span class="number">2</span>;  <span class="comment">//i-dp[i-1]-2&gt;=0</span></span><br><span class="line">         &#125;</span><br><span class="line">         maxlen=Math.<span class="built_in">max</span>(maxlen,d[i]);</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="built_in">return</span> maxlen;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>ç»“åˆä¾‹å­ç†è§£:</p><table><thead><tr><th style="text-align:center">0</th><th style="text-align:center">1</th><th style="text-align:center">2</th><th style="text-align:center">3</th><th style="text-align:center">4</th><th style="text-align:center">5</th><th style="text-align:center">6</th><th style="text-align:center">7</th></tr></thead><tbody><tr><td style="text-align:center">(</td><td style="text-align:center">)</td><td style="text-align:center">)</td><td style="text-align:center">(</td><td style="text-align:center">(</td><td style="text-align:center">(</td><td style="text-align:center">)</td><td style="text-align:center">)  </td></tr><tr><td style="text-align:center">0</td><td style="text-align:center">2</td><td style="text-align:center">0</td><td style="text-align:center">0</td><td style="text-align:center">0</td><td style="text-align:center">0</td><td style="text-align:center">2</td><td style="text-align:center">4  </td></tr></tbody></table><h3 id="ä¸¤å˜é‡å†™æ³•"><a href="#ä¸¤å˜é‡å†™æ³•" class="headerlink" title="ä¸¤å˜é‡å†™æ³•"></a>ä¸¤å˜é‡å†™æ³•</h3><p>æˆ‘ä»¬ç”¨ä¸¤ä¸ªå˜é‡æ¥ç»´æŠ¤ï¼Œleftå’Œrightï¼Œleftè¡¨ç¤ºåŒ¹é…çš„â€™(â€˜ä¸ªæ•°ï¼Œrightè¡¨ç¤ºåŒ¹é…çš„â€™)â€™ä¸ªæ•°.<br>1.æˆ‘ä»¬å°†leftå’Œrightåˆå§‹åŒ–0,ä»æ•°ç»„å¼€å¤´å¼€å§‹éå†:<br>(1).å½“é‡åˆ°â€™(â€˜æˆ‘ä»¬æŠŠleftåŠ ä¸€ï¼Œé‡åˆ°â€™)â€™æˆ‘ä»¬æŠŠrightåŠ ä¸€.<br>(2).å½“left==rightçš„æ—¶å€™ï¼Œè¯´æ˜leftæ•°é‡ä¸rightæ•°é‡å·²æ­£ç¡®åŒ¹é…ï¼Œæ›´æ–°æœ€å¤§å€¼ä¸º2<em>right.<br>(3).å½“right&gt;leftï¼Œè¯´æ˜å³æ‹¬å·æ•°é‡æ¯”å·¦æ‹¬å·å¤šä¸åŒ¹é…ï¼Œæˆ‘ä»¬æŠŠleftå’Œrightéƒ½æ¸…0.<br>2.æˆ‘ä»¬å°†leftå’Œrightåˆå§‹åŒ–ä¸º0ï¼Œä»æ•°ç»„æœ«ç«¯å¼€å§‹éå†:<br>(1).åŒæ ·å½“é‡åˆ°â€™(â€˜æˆ‘ä»¬æŠŠleftåŠ ä¸€ï¼Œé‡åˆ°â€™)â€™æˆ‘ä»¬æŠŠrightåŠ ä¸€.<br>(2).å½“left==rightçš„æ—¶å€™ï¼Œè¯´æ˜leftæ•°é‡ä¸rightæ•°é‡å·²æ­£ç¡®åŒ¹é…ï¼Œæ›´æ–°æœ€å¤§å€¼ä¸º2</em>left.<br>(3).å½“left&gt;rightï¼Œè¯´æ˜å·¦æ‹¬å·æ•°é‡æ¯”å³æ‹¬å·å¤š,ä¸åŒ¹é…ï¼Œæˆ‘ä»¬æŠŠleftå’Œrightéƒ½æ¸…0.<br>æˆ‘ä»¬è¯æ˜1.(3)å’Œ2.(3):<br>1.(3):<br>å½“left&gt;rightï¼Œè¯´æ˜â€™(â€˜æ•°é‡æ¯”â€™)â€™å¤šï¼Œå¦‚æœç»§ç»­å¾€å³æ‰©å±•æˆ‘ä»¬è¿˜èƒ½ç¢°åˆ°â€™)â€™,å³èƒ½æ‰©å±•åˆæ³•ç©ºé—´,æ‰€ä»¥æˆ‘ä»¬ç»§ç»­éå†.<br>å½“left&lt;right, è¯´æ˜â€™)â€™æ•°é‡æ¯”â€™(â€˜å¤š, é‚£ä¹ˆæˆ‘ä»¬éå†åˆ°çš„æœ€åä¸€ä¸ªå­—ç¬¦ä¾¿æ˜¯â€™)â€™,é‚£ä¹ˆç»§ç»­å¾€å³éå†æˆ‘ä»¬ä¼šå¾—åˆ°â€™)(â€˜æˆ–â€™))â€™,ä¸¤è€…éƒ½æ— æ³•ä½¿åŒºé—´æ­£ç¡®çš„æ‰©å±•,æ‰€ä»¥æˆ‘ä»¬æŠŠleftå’Œrightæ¸…0.<br>2.(3):<br>åŒç†å½“right&gt;left,å› ä¸ºæ˜¯å‘å·¦æ‰©å±•,å¯¹äºå¤šå‡ºæ¥çš„â€™)â€™,å¾€å·¦æ‰©å±•æˆ‘ä»¬è¿˜èƒ½ç¢°åˆ°â€™(â€˜åŒ¹é….<br>å½“right&lt;left,é‚£ä¹ˆæˆ‘ä»¬éå†åˆ°çš„æœ€åä¸€ä¸ªå­—ç¬¦ä¾¿æ˜¯â€™(â€˜,é‚£ä¹ˆç»§ç»­å¾€å³éå†æˆ‘ä»¬ä¼šå¾—åˆ°â€™)(â€˜æˆ–â€™((â€˜ï¼Œåˆ™ä¸å†æœ‰æ•ˆï¼Œå›ºleft=right=0.</p><p>ä»¥ä¸‹æ˜¯ä»£ç :<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> int longestValidParentheses(<span class="type">String</span> s)</span><br><span class="line">&#123;</span><br><span class="line">    int <span class="built_in">max</span>=<span class="number">0</span>,<span class="keyword">left</span>=<span class="number">0</span>,<span class="keyword">right</span>=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(int i=<span class="number">0</span>;i&lt;s.length();i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(s.charAt(i)=='(') <span class="keyword">left</span>++;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">right</span>++;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">left</span>==<span class="keyword">right</span>) <span class="built_in">max</span>=<span class="type">Math</span>.<span class="built_in">max</span>(<span class="built_in">max</span>,<span class="keyword">right</span>*<span class="number">2</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(<span class="keyword">left</span>&lt;=<span class="keyword">right</span>) <span class="keyword">left</span>=<span class="keyword">right</span>=<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">left</span>=<span class="keyword">right</span>=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(int i=s.length()-<span class="number">1</span>;i&gt;=<span class="number">0</span>;i--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(s.charAt(i)==')') <span class="keyword">right</span>++;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">left</span>++;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">left</span>==<span class="keyword">right</span>) <span class="built_in">max</span>=<span class="type">Math</span>.<span class="built_in">max</span>(<span class="built_in">max</span>,<span class="keyword">left</span>*<span class="number">2</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(<span class="keyword">left</span>&gt;=<span class="keyword">right</span>) <span class="keyword">left</span>=<span class="keyword">right</span>=<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">max</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="å †æ ˆå†™æ³•"><a href="#å †æ ˆå†™æ³•" class="headerlink" title="å †æ ˆå†™æ³•"></a>å †æ ˆå†™æ³•</h3><p>æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨å †æ ˆæ¥å†™,æ¯å½“æˆ‘ä»¬é‡åˆ°â€™(â€˜,æˆ‘ä»¬æŠŠå®ƒçš„ä½ç½®å‹æ ˆ,å½“é‡åˆ°â€™)â€™,æˆ‘ä»¬å¼¹å‡ºæ ˆé¡¶å…ƒç´ ,å½“æ ˆé¡¶ä¸ä¸ºç©ºæ—¶æˆ‘ä»¬æ›´æ–°é•¿åº¦,ä¸ºç©ºæ—¶æˆ‘ä»¬æŠŠè¯¥ä½ç½®å‹å…¥æ ˆ.(æ€è·¯ä¸æ‹¬å·åŒ¹é…ç±»ä¼¼ï¼Œé‡åˆ°å³æ‹¬å·æŠŠå·¦æ‹¬å·å¼¹å‡ºï¼Œå› ä¸ºè¿™è¾¹è¦è®°å½•é•¿åº¦ï¼Œæ‰€ä»¥æˆ‘ä»¬å­˜å‚¨ä½ç½®)</p><p>ä»¥ä¸‹æ˜¯ä»£ç :<br><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">public int longestValidParentheses(String s)</span><br><span class="line">&#123;</span><br><span class="line">    int <span class="built_in">max</span>=<span class="number">0</span>;</span><br><span class="line">    Stack&lt;Integer&gt; st=new Stack&lt;&gt;();</span><br><span class="line">    st.push(<span class="number">-1</span>);</span><br><span class="line">    <span class="keyword">for</span>(int <span class="built_in">i</span>=<span class="number">0</span>;<span class="built_in">i</span>&lt;s.<span class="built_in">length</span>();<span class="built_in">i</span>++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(s.charAt(<span class="built_in">i</span>)==<span class="string">'('</span>)</span><br><span class="line">          st.push(<span class="built_in">i</span>);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            st.pop();</span><br><span class="line">            <span class="keyword">if</span>(st.empty())</span><br><span class="line">            &#123;</span><br><span class="line">                st.push(<span class="built_in">i</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">max</span>=Math.<span class="built_in">max</span>(<span class="built_in">max</span>,<span class="built_in">i</span>-st.peek());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">max</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®ç»“æ„ </category>
          
          <category> åŠ¨æ€è§„åˆ’ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> dp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è¡¨è¾¾å¼åŒ¹é…</title>
      <link href="/dp_1/"/>
      <url>/dp_1/</url>
      
        <content type="html"><![CDATA[<p><img src="https://s2.ax1x.com/2019/03/27/Aa26Mt.png" alt="Aa26Mt.png"><br><a id="more"></a></p><h3 id="Given-an-input-string-s-and-a-pattern-p-implement-regular-expression-matching-with-support-for-â€˜-â€™-and-â€˜-â€™"><a href="#Given-an-input-string-s-and-a-pattern-p-implement-regular-expression-matching-with-support-for-â€˜-â€™-and-â€˜-â€™" class="headerlink" title="Given an input string (s) and a pattern (p), implement regular expression matching with support for â€˜.â€™ and â€˜*â€™."></a>Given an input string (s) and a pattern (p), implement regular expression matching with support for â€˜.â€™ and â€˜*â€™.</h3><p>â€˜.â€™ Matches any single character.<br>â€˜*â€™ Matches zero or more of the preceding element.</p><p>The matching should cover the entire input string (not partial).<br>Note:</p><pre><code>s could be empty and contains only lowercase letters a-z.p could be empty and contains only lowercase letters a-z, and characters like . or *.Example 1:Input:s = &quot;aa&quot;p = &quot;a&quot;Output: falseExplanation: &quot;a&quot; does not match the entire string &quot;aa&quot;.Example 2:Input:s = &quot;aa&quot;p = &quot;a*&quot;Output: trueExplanation: &apos;*&apos; means zero or more of the precedeng element, &apos;a&apos;. Therefore, by repeating &apos;a&apos; once, it becomes &quot;aa&quot;.Example 3:Input:s = &quot;ab&quot;p = &quot;.*&quot;Output: trueExplanation: &quot;.*&quot; means &quot;zero or more (*) of any character (.)&quot;.Example 4:Input:s = &quot;aab&quot;p = &quot;c*a*b&quot;Output: trueExplanation: c can be repeated 0 times, a can be repeated 1 time. Therefore it matches &quot;aab&quot;.Example 5:Input:s = &quot;mississippi&quot;p = &quot;mis*is*p*.&quot;Output: false</code></pre><hr><h2 id="é¢˜æ„åˆ†æ"><a href="#é¢˜æ„åˆ†æ" class="headerlink" title="é¢˜æ„åˆ†æ"></a>é¢˜æ„åˆ†æ</h2><p>ç»™ä½ ä¸¤ä¸ªå­—ç¬¦ä¸²så’Œp,è¦æ±‚pèƒ½ä¸såŒ¹é…,â€™.â€™è¡¨ç¤ºèƒ½ä¸ä»»ä½•å­—ç¬¦åŒ¹é…,â€™<em>â€˜è¡¨ç¤ºä¹‹å‰çš„å­—ç¬¦èƒ½å‡ºç°å¤šæ¬¡æˆ–ç€0æ¬¡.æ³¨æ„â€™.â€™ä¹Ÿèƒ½è¢«é‡å¤,â€™.</em>â€˜èƒ½ä¸ä»»ä½•å­—ç¬¦ä¸²åŒ¹é….</p><h3 id="åŠ¨æ€è§„åˆ’"><a href="#åŠ¨æ€è§„åˆ’" class="headerlink" title="åŠ¨æ€è§„åˆ’"></a>åŠ¨æ€è§„åˆ’</h3><p>ç”±äºä¸æ˜¯ä½ç½®å¯¹åº”çš„åŒ¹é…ç›¸ç­‰ï¼Œæˆ‘ä»¬åªå¥½åˆ†åˆ«åˆ¤æ–­æŸä¸€æ®µæ˜¯å¦åŒ¹é…ï¼Œç„¶ååœ¨å‰é¢åŒ¹é…çš„æ¡ä»¶ä¸‹ï¼Œæ¥åˆ¤æ–­åé¢æ˜¯å¦åŒ¹é….<br>å…·ä½“æ€è·¯è¯·çœ‹<a href="https://leetcode.com/problems/regular-expression-matching/discuss/5684/c-on-space-dp" target="_blank" rel="noopener">https://leetcode.com/problems/regular-expression-matching/discuss/5684/c-on-space-dp</a><br>æˆ‘ä»¬å®šä¹‰dp[i][j]ä¸ºpçš„åŒºé—´[0,i]ä¸sçš„åŒºé—´[0,j]æ˜¯å¦åŒ¹é….<br>æˆ‘ä»¬æœ‰ä¸‰ç§æƒ…å†µ:<br>1.dp[i][j]=dp[i-1][j-1],å¦‚æœp[i-1]!=â€™<em>â€˜ &amp;&amp; (s[j-1]==p[i-1] || p[i-1] == â€˜.â€™) å› ä¸ºâ€™.â€™èƒ½åŒ¹é…ä»»ä½•å­—ç¬¦<br>2.dp[i][j]=dp[i-2][j],å¦‚æœp[i-1]==â€™</em>â€˜  ï¼Œå› ä¸ºâ€™<em>â€˜èƒ½ä½¿å‰å­—ç¬¦é‡å¤0æ¬¡<br>3.dp[i][j]=dp[i][j-1] &amp;&amp; (s[j-1]==p[i-2] || p[i-2] == â€˜.â€™),å¦‚æœp[i-1]==â€™</em>â€˜ï¼Œå› ä¸ºâ€™<em>â€˜èƒ½ä½¿å‰å­—ç¬¦é‡å¤å¤šæ¬¡.<br>æˆ‘ä»¬æ¥çœ‹ä¾‹å­<br>s=â€abâ€<br>p=â€c</em>.*bâ€</p><table><thead><tr><th style="text-align:center">p\s</th><th style="text-align:center">â€œâ€</th><th style="text-align:center">a</th><th>b</th></tr></thead><tbody><tr><td style="text-align:center"> â€œâ€</td><td style="text-align:center">1</td><td style="text-align:center">0</td><td>0</td><td></td></tr><tr><td style="text-align:center"> c</td><td style="text-align:center">0</td><td style="text-align:center">0</td><td>0</td><td></td></tr><tr><td style="text-align:center"> *</td><td style="text-align:center">1</td><td style="text-align:center">0</td><td>0</td><td></td></tr><tr><td style="text-align:center"> .</td><td style="text-align:center">0</td><td style="text-align:center">1</td><td>0</td><td></td></tr><tr><td style="text-align:center"> *</td><td style="text-align:center">1</td><td style="text-align:center">1</td><td>0</td><td></td></tr><tr><td style="text-align:center"> b</td><td style="text-align:center">0</td><td style="text-align:center">0</td><td>1</td><td></td></tr></tbody></table><p>ç”±æ­¤å…³ç³»å¼æˆ‘ä»¬å¯ä»¥å†™å‡ºä»£ç :<br><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">public boolean isMatch(String s,String p)</span><br><span class="line">&#123;</span><br><span class="line">    int m=p.<span class="built_in">length</span>();</span><br><span class="line">    int n=s.<span class="built_in">length</span>();</span><br><span class="line">    boolean[][] dp=new boolean[m+<span class="number">1</span>][n+<span class="number">1</span>];</span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">0</span>]=<span class="built_in">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(int <span class="built_in">i</span>=<span class="number">1</span>;<span class="built_in">i</span>&lt;=m;<span class="built_in">i</span>++)</span><br><span class="line">    &#123;</span><br><span class="line">       <span class="keyword">for</span>(int <span class="built_in">j</span>=<span class="number">0</span>;<span class="built_in">j</span>&lt;=n;<span class="built_in">j</span>++)</span><br><span class="line">       &#123;</span><br><span class="line">           <span class="keyword">if</span>(p.charAt(<span class="built_in">i</span><span class="number">-1</span>)==<span class="string">'*'</span>)</span><br><span class="line">           &#123;</span><br><span class="line">               dp[<span class="built_in">i</span>][<span class="built_in">j</span>]=dp[<span class="built_in">i</span><span class="number">-2</span>][<span class="built_in">j</span>] || (<span class="built_in">j</span>&gt;<span class="number">0</span> &amp;&amp; dp[<span class="built_in">i</span>][<span class="built_in">j</span><span class="number">-1</span>] &amp;&amp; (s.charAt(<span class="built_in">j</span><span class="number">-1</span>)==p.charAt(<span class="built_in">i</span><span class="number">-2</span>)||p.charAt(<span class="built_in">i</span><span class="number">-2</span>)==<span class="string">'.'</span>));</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">else</span></span><br><span class="line">           &#123;</span><br><span class="line">               dp[<span class="built_in">i</span>][<span class="built_in">j</span>]=(<span class="built_in">j</span>&gt;<span class="number">0</span> &amp;&amp; dp[<span class="built_in">i</span><span class="number">-1</span>][<span class="built_in">j</span><span class="number">-1</span>] &amp;&amp; (s.charAt(<span class="built_in">j</span><span class="number">-1</span>)==p.charAt(<span class="built_in">i</span><span class="number">-1</span>) || p.charAt(<span class="built_in">i</span><span class="number">-1</span>)==<span class="string">'.'</span>));</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[m][n];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®ç»“æ„ </category>
          
          <category> åŠ¨æ€è§„åˆ’ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> dp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æœ€é•¿å›æ–‡å­ä¸²</title>
      <link href="/dp/"/>
      <url>/dp/</url>
      
        <content type="html"><![CDATA[<p><img src="https://s2.ax1x.com/2019/03/26/AN7dl4.png" alt="AN7dl4.png"><br><a id="more"></a></p><h3 id="Given-a-string-s-find-the-longest-palindromic-substring-in-s-You-may-assume-that-the-maximum-length-of-s-is-1000"><a href="#Given-a-string-s-find-the-longest-palindromic-substring-in-s-You-may-assume-that-the-maximum-length-of-s-is-1000" class="headerlink" title="Given a string s, find the longest palindromic substring in s. You may assume that the maximum length of s is 1000."></a>Given a string s, find the longest palindromic substring in s. You may assume that the maximum length of s is 1000.</h3><hr><p>Example 1:<br><code>Input: &quot;babad&quot;</code><br><code>Output: &quot;bab&quot;</code><br><code>Note: &quot;aba&quot; is also a valid answer.</code><br>Example 2:<br><code>Input: &quot;cbbd&quot;</code><br><code>Output: &quot;bb&quot;</code></p><hr><h2 id="é¢˜æ„åˆ†æ"><a href="#é¢˜æ„åˆ†æ" class="headerlink" title="é¢˜æ„åˆ†æ"></a>é¢˜æ„åˆ†æ</h2><p>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¿”å›å®ƒæœ€é•¿çš„å›æ–‡å­ä¸²(ç¿»è½¬åå’Œè‡ªèº«ç›¸ç­‰çš„ä¸²)ã€‚</p><p>ç¬¬ä¸€ä¸ªèƒ½å¿«é€Ÿæƒ³åˆ°çš„æ–¹æ³•å°±æ˜¯æš´åŠ›è§£æ³•:</p><h3 id="æš´åŠ›è§£æ³•"><a href="#æš´åŠ›è§£æ³•" class="headerlink" title="æš´åŠ›è§£æ³•"></a>æš´åŠ›è§£æ³•</h3><p>æš´åŠ›è§£æ³•çš„æ ¸å¿ƒæ€è·¯å°±æ˜¯æšä¸¾æ¯ä¸€ä¸ªå­—ä¸²ï¼Œç„¶ååˆ¤æ–­å®ƒæ˜¯ä¸æ˜¯å›æ–‡ä¸²ï¼Œå¹¶è®°å½•å®ƒçš„é•¿åº¦ï¼Œå¹¶æ›´æ–°é•¿åº¦çš„æœ€å¤§å€¼.<br>ä»¥ä¸‹æ˜¯åˆ¤æ–­æ˜¯ä¸æ˜¯å›æ–‡ä¸²çš„ä»£ç ,å› ä¸ºå›æ–‡ä¸²å…³äº<code>ä¸­å¿ƒå¯¹ç§°</code>ï¼Œæˆ‘ä»¬åªè¦åˆ¤æ–­ä¸¤è¾¹çš„å­—ç¬¦æ˜¯å¦ç›¸ç­‰ï¼Œå¦‚æœæœ‰ä¸ç›¸ç­‰ï¼Œç›´æ¥åˆ¤æ–­ä¸ºä¸æ˜¯.<br><figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> isPalindrome(String s)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">int</span> len=s.length();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;len/<span class="number">2</span>;i++)  <span class="comment">//len/2è¡¨ç¤ºæˆ‘ä»¬åªè¦åˆ¤æ–­ä¸€åŠ.</span></span><br><span class="line">    &#123;</span><br><span class="line">         <span class="keyword">if</span>(s.charAt(i)!=s.charAt(len-i<span class="number">-1</span>)) <span class="keyword">return</span> <span class="keyword">false</span>; <span class="comment">//é‡åˆ°å…³äºä¸­å¿ƒå¯¹ç§°çš„ä¸¤ç«¯ä¸ç›¸ç­‰çš„ï¼Œç›´æ¥è¿”å›falseï¼›</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;  <span class="comment">//æ‰€æœ‰åˆ¤æ–­éƒ½é€šè¿‡ï¼Œè¿”å›true;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>æ¥ä¸‹æ¥å°±æ˜¯é€ä¸ªæšä¸¾å¹¶è°ƒç”¨ä»¥ä¸Š<code>isPalindrome</code>å‡½æ•°.æˆ‘ä»¬å®šä¹‰ä¸¤ä¸ªå˜é‡i,j;iè¡¨ç¤ºæšä¸¾å­ä¸²çš„å·¦ç«¯ç‚¹,jè¡¨ç¤ºæšä¸¾å­ä¸²çš„å³ç«¯ç‚¹.iâˆˆ[0,len),jâˆˆ[i,len).(i&lt;=j,å·¦ç«¯ç‚¹å€¼å°äºå³ç«¯ç‚¹)<br>é‚£ä¹ˆæˆ‘ä»¬ä½¿ç”¨ä¸¤ä¸ªforå¾ªç¯æ¥éå†åŒºé—´ä½ç½®:<br><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">String</span> longestPalindromicSubstring(<span class="keyword">String</span> s)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">String</span> res=<span class="string">""</span>; <span class="comment">//å­˜å‚¨é•¿åº¦æœ€å¤§çš„å›æ–‡ä¸²</span></span><br><span class="line">    <span class="built_in">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;s.length();i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">for</span>(<span class="keyword">int</span> j=i;j&lt;s.length();j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">if</span>(isPalindrome(s.substring(i,j+<span class="number">1</span>))) <span class="comment">//substringæ–¹æ³•åŒºé—´å–å€¼æ˜¯å‰é—­åå¼€ï¼Œæ‰€ä»¥æˆ‘ä»¬å–[i,j+1).</span></span><br><span class="line">            &#123;</span><br><span class="line">               <span class="built_in">if</span>(j+<span class="number">1</span>-i&gt;res.length()) res=s.substring(i,j+<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>é€šè¿‡ä¸‰ä¸ªå¾ªç¯ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“å¾—å‡ºæ—¶é—´å¤æ‚åº¦æ˜¯O(n^3),ç©ºé—´å¤æ‚åº¦ä¸ºO(1).</p><h3 id="åŠ¨æ€è§„åˆ’"><a href="#åŠ¨æ€è§„åˆ’" class="headerlink" title="åŠ¨æ€è§„åˆ’"></a>åŠ¨æ€è§„åˆ’</h3><p>æš´åŠ›è§£æ³•çš„æ—¶é—´å¤æ‚åº¦è¿™ä¹ˆé«˜ï¼ŒåŸå› æ˜¯éå†äº†æ¯ä¸€ç§å¯èƒ½.é‚£ä¹ˆå…¶ä¸­å°±ä¼šæœ‰é‡å¤åˆ¤æ–­æˆ–è€…é¿å…åˆ¤æ–­çš„å­ä¸².<br>åŠ¨æ€è§„åˆ’çš„æ ¸å¿ƒæ€æƒ³å°±æ˜¯æ ¹æ®å·²æœ‰çš„æ¡ä»¶ï¼Œé€šè¿‡æ¨å¯¼å…¬å¼ï¼Œæ¨å¯¼å‡ºç»“æœï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å‡å°‘äº†å¾ˆå¤šé‡å¤çš„åˆ¤æ–­<br>æ¯”å¦‚è¯´:<code>&quot;cabddbac&quot;ä¸­ï¼Œæˆ‘ä»¬ç”¨æš´åŠ›è§£æ³•æ—¶ï¼Œ&#39;abddba&#39;ä¸&#39;bddb&#39;æˆ‘ä»¬é‡å¤åˆ¤æ–­äº†&#39;d&#39;==&#39;d&#39;ä¸&#39;b&#39;==&#39;b&#39;</code>.<br>é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•é¿å…é‡å¤åˆ¤æ–­å‘¢?å¯¹äºå˜åŠ¨çš„å·¦å³æ–­ç‚¹å½¢æˆçš„åŒºé—´ï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ª<code>äºŒç»´æ•°ç»„dp[len][len](lenè¡¨ç¤ºåŸå­—ç¬¦ä¸²çš„é•¿åº¦).</code><br>æˆ‘ä»¬ç”¨<code>dp[i][j]=1æ¥è¡¨ç¤ºåŒºé—´[i,j]æ˜¯å›æ–‡ä¸²</code>.é‚£ä¹ˆå¦‚ä½•æ ¹æ®å­˜å‚¨çš„æ¡ä»¶ï¼Œæ¨å‡ºæœªçŸ¥æ¡ä»¶å‘¢,<br>\begin{cases}<br>dp[i][j]=1, &amp;(i==j\or(j==i+1\and\s.charAt(j)==s.charAt(i)))<br>\end{cases}<br>\begin{cases}<br>dp[i][j]=dp[i+1][j-1], &amp;(s.charAt(j)==s.charAt(i)\and\j-i&gt;2)<br>\end{cases}<br>å›ºæˆ‘ä»¬æ ¹æ®è¯¥é€’æ¨å¼æ¥å†™å‡ºä»£ç <br><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">String</span> longestPalindromicSubstring(<span class="keyword">String</span> s)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">if</span>(s.length()==<span class="number">0</span>) <span class="built_in">return</span> <span class="string">""</span>;   <span class="comment">//å¦‚æœå­—ç¬¦ä¸²sä¸ºç©ºï¼Œåˆ™è¾“å‡ºç©ºå­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="keyword">int</span> left=<span class="number">0</span>,right=<span class="number">0</span>,maxlen=<span class="number">0</span>,len=s.length();</span><br><span class="line">    <span class="keyword">int</span>[][] dp=<span class="keyword">new</span> <span class="keyword">int</span>[len][len];</span><br><span class="line">    <span class="built_in">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;s.length();i++)</span><br><span class="line">    &#123;</span><br><span class="line">       <span class="built_in">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;=i;j++)</span><br><span class="line">       &#123;</span><br><span class="line">           <span class="built_in">if</span>(i==j || (s.charAt(i)==s.charAt(j) &amp;&amp; i==j+<span class="number">1</span>))  <span class="comment">//ä¸¤ä¸ªæ¡ä»¶çš„åˆ¤æ–­</span></span><br><span class="line">           &#123;</span><br><span class="line">              dp[j][i]=<span class="number">1</span>;</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="built_in">if</span>(i-j&gt;=<span class="number">2</span> &amp;&amp; s.charAt(i)==s.charAt(j))</span><br><span class="line">           &#123;</span><br><span class="line">              dp[j][i]=dp[j+<span class="number">1</span>][i<span class="number">-1</span>];</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="built_in">if</span>(dp[j][i]==<span class="number">1</span> &amp;&amp; maxlen&lt;i+<span class="number">1</span>-j)  <span class="comment">//è®°å½•æœ€å¤§åŒºé—´</span></span><br><span class="line">           &#123;</span><br><span class="line">              left=j;</span><br><span class="line">              right=i+<span class="number">1</span>;</span><br><span class="line">              maxlen=i+<span class="number">1</span>-j;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> s.substring(left,right);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>å®¹æ˜“çœ‹å‡ºæ—¶é—´å’Œç©ºé—´å¤æ‚åº¦éƒ½æ˜¯O(n^2)</p><h3 id="é©¬æ‹‰è½¦ç®—æ³•"><a href="#é©¬æ‹‰è½¦ç®—æ³•" class="headerlink" title="é©¬æ‹‰è½¦ç®—æ³•"></a>é©¬æ‹‰è½¦ç®—æ³•</h3><p>ç°åœ¨æˆ‘ä»¬æ¢ç§æš´åŠ›è§£æ³•çš„æ€è·¯,æˆ‘ä»¬ä»¥<code>å­—ç¬¦ä¸²çš„ä¸€ä¸ªå­—ç¬¦ä¸ºä¸­å¿ƒ</code>ï¼Œå‘ä¸¤è¾¹ä¸æ–­<code>æ‰©å±•</code>ï¼Œä»¥æ­¤æ¥å¾—åˆ°æœ€é•¿çš„å›æ–‡ä¸².<br>æ¯”å¦‚å­—ç¬¦ä¸²â€abaâ€:<br><code>1.å–ç¬¬ä¸€ä¸ªå­—ç¬¦&#39;a&#39;:ä¸¤è¾¹æ— ç›¸åŒå…ƒç´ ï¼Œæ— æ³•ç»§ç»­æ‰©å±•ï¼Œæ‰€ä»¥é•¿åº¦ä¸º1.</code><br><code>2.å–ç¬¬äºŒä¸ªå­—ç¬¦&#39;b&#39;:ä¸¤è¾¹éƒ½æœ‰ç›¸åŒå…ƒç´ &#39;a&#39;,æ‰€ä»¥æˆ‘ä»¬æ‰©å±•è‡³é•¿åº¦ä¸º3,ç»§ç»­æ‰©å±•ï¼Œå‘ç°è¾¾åˆ°è¾¹ç•Œï¼Œæ— æ³•æ‰©å±•ï¼Œæ‰€ä»¥æ­¤æ—¶æœ€é•¿ä¸º&#39;aba&#39;.</code><br><code>3.å–ç¬¬ä¸‰ä¸ªå­—ç¬¦&#39;a&#39;:ä¸¤è¾¹æ— ç›¸åŒå…ƒç´ ï¼Œæ— æ³•ç»§ç»­æ‰©å±•ï¼Œæ‰€ä»¥é•¿åº¦ä¸º1</code><br>å›ºæˆ‘ä»¬å¾—åˆ°æœ€é•¿å›æ–‡ä¸²ä¸ºâ€™abaâ€™.<br>ä½†æˆ‘ä»¬ä¼šå‘ç°æœ‰ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯å¦‚æœæˆ‘ä»¬å–å¶æ•°é•¿åº¦çš„å­—ç¬¦ä¸²â€™abbaâ€™:æˆ‘ä»¬ä¼šå‘ç°æ²¡æœ‰å¯¹ç§°ä¸­å¿ƒï¼Œæ‰€ä»¥è¿™ç§æ–¹æ³•æ˜¯ä¸æ˜¯å°±ä¸èƒ½é€‚ç”¨è¿™ç§æƒ…å†µäº†å‘¢.</p><p>ä¸‹é¢å°±æ˜¯<code>é©¬æ‹‰è½¦ç®—æ³•</code>å¥‡å¦™çš„åœ°æ–¹äº†,æˆ‘ä»¬é¦–å…ˆå¯¹å­—ç¬¦ä¸²åšä¼˜å…ˆå¤„ç†ï¼Œåœ¨å­—ç¬¦ä¸å­—ç¬¦ä¹‹é—´<code>æ’å…¥ä¸€ä¸ªå­—ç¬¦&#39;#&#39;</code>,æˆ‘ä»¬å°±èƒ½ä¿è¯å­—ç¬¦ä¸²çš„é•¿åº¦å°±æ˜¯<code>å¥‡æ•°ä¸ª</code>äº†ï¼Œæ¯”å¦‚è¯´åˆšæ‰æˆ‘ä»¬ä¸¾å¾—ä¾‹å­<code>&#39;abba&#39;</code>ï¼Œè¿›è¡Œå¤„ç†åæˆ‘ä»¬å¾—åˆ°<code>&#39;#a#b#b#a#&#39;</code>,é‚£ä¹ˆæˆ‘ä»¬å°±æœ‰äº†å¯¹ç§°ä¸­å¿ƒâ€™#â€™ï¼Œå°±èƒ½ç»§ç»­ä½¿ç”¨åˆšæ‰çš„æš´åŠ›è§£æ³•äº†.æˆ‘ä»¬è®¾<code>len[i]çš„å€¼ä¸ºå­—ç¬¦ä¸²ä»¥ç¬¬iä¸ªå­—ç¬¦ä¸ºä¸­å¿ƒçš„æœ€é•¿å›æ–‡åŠå¾„</code>ï¼Œ<code>mxä¸ºæœ€é•¿å›æ–‡å­ä¸²çš„æœ€åç«¯ç‚¹çš„ä½ç½®</code>,<code>idä¸ºæœ€é•¿å›æ–‡å­ä¸²çš„å¯¹ç§°ä¸­å¿ƒç‚¹</code>.<br>æˆ‘ä»¬å°±æ‹¿â€™#a#b#b#a#â€™ä¸¾ä¾‹:<br><code>1.ç¬¬ä¸€ä¸ªå­—ç¬¦&#39;#&#39;:æ— æ³•æ‰©å±•ï¼ŒåŠå¾„ä¸º1,æ­¤æ—¶mxæ›´æ–°ä¸º0,idä¸º0</code><br><code>2.ç¬¬äºŒä¸ªå­—ç¬¦&#39;a&#39;:èƒ½æ‰©å±•åˆ°ä¸¤è¾¹&#39;#&#39;ï¼ŒåŠå¾„ä¸º2ï¼Œæ­¤æ—¶mxæ›´æ–°ä¸º2ï¼Œidä¸º1</code><br><code>2.ç¬¬ä¸‰ä¸ªå­—ç¬¦&#39;#&#39;:æ— æ³•æ‰©å±•ï¼ŒåŠå¾„ä¸º1,åŠå¾„ä¸æ˜¯æœ€å¤§ï¼Œä¸æ”¹å˜</code><br><code>3.ç¬¬å››ä¸ªå­—ç¬¦&#39;b&#39;:èƒ½æ‰©å±•åˆ°ä¸¤è¾¹&#39;#&#39;ï¼ŒåŠå¾„ä¸º2ï¼Œæ­¤æ—¶ä¸æ›´æ–°</code><br><code>4.ç¬¬äº”ä¸ªå­—ç¬¦&#39;#&#39;:èƒ½æ‰©å±•åˆ°æœ€ä¸¤ç«¯çš„&#39;#&#39;ï¼ŒåŠå¾„ä¸º5,æ­¤æ—¶æ›´æ–°mxä¸º8,idä¸º4</code><br><code>5.ç¬¬å…­ä¸ªå­—ç¬¦&#39;b&#39;:æˆ‘ä»¬å‘ç°æ­¤æ—¶i&lt;mx(6&lt;8)ï¼Œæˆ‘ä»¬å‘ç°æ­¤æ—¶ä¸­å¿ƒ&#39;b&#39;å¤„åœ¨æœ€å¤§çš„å›æ–‡å­ä¸²ä¹‹ä¸­,é‚£ä¹ˆæˆ‘ä»¬æ˜¯ä¸æ˜¯è¿˜éœ€è¦ç»§ç»­å¾ªç¯å¾€å¤–é‡å¤æ‰©å±•å‘¢.æˆ‘ä»¬å¯ä»¥æ ¹æ®å·²çŸ¥çš„æœ€é•¿å›æ–‡å­ä¸²&#39;#a#b#b#a#&#39;å¯çŸ¥ä¸¤è¾¹æ˜¯å¯¹ç§°çš„,æ‰€ä»¥å³è¾¹çš„&#39;b&#39;ä¸å·¦è¾¹çš„&#39;b&#39;å¯¹ç§°ï¼Œé‚£ä¹ˆåŠå¾„å°±æ˜¯ä»2å¼€å§‹æ‰©å±•</code><br>åé¢ç›¸åŒçš„æ€æƒ³ï¼Œç•¥è¿‡<br>Â·Â·Â·</p><p>é‚£ä¹ˆæˆ‘ä»¬æ¥çœ‹ä¸€èˆ¬æƒ…å†µ:<br>å‡è®¾æˆ‘ä»¬éå†åˆ°çš„å¯¹ç§°ä¸­å¿ƒ<code>i&lt;mx</code>:<br>æˆ‘ç”¨ç”»å›¾è½¯ä»¶éšä¾¿ç”»äº†ä¸€ä¸‹:<br><img src="https://s2.ax1x.com/2019/03/26/ANIjXR.png" alt="ANIjXR.png"><br>æˆ‘ä»¬å¯ä»¥å¾—åˆ°æ­¤æ—¶iä¸2<em>id-iæ˜¯å¯¹ç§°çš„ï¼Œé‚£ä¹ˆlen[i]çš„èµ·å§‹åŠå¾„è¦ä¸å°±æ˜¯<code>mx-i</code>,è¦ä¹ˆå°±æ˜¯`len[2</em>id-i]`<br>é‚£ä¹ˆæˆ‘ä»¬å–å“ªä¸ªå‘¢ï¼Œå°çš„é‚£ä¸ª:<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ä»¥ä¸‹æˆ‘ä»¬ç”¨åè¯æ³•æ¥è¯æ˜ä¸€ä¸‹:</span><br><span class="line">å‡è®¾len[<span class="number">2</span>*<span class="built_in">id</span>-i]&gt;mx-i,len[<span class="built_in">id</span>]=mx-i.</span><br><span class="line">æˆ‘ä»¬æœ‰len[i]=len[<span class="number">2</span>*<span class="built_in">id</span>-i]</span><br><span class="line">é‚£ä¹ˆæˆ‘ä»¬ç»§ç»­ä»¥<span class="built_in">id</span>ä¸ºå¯¹ç§°ä¸­å¿ƒ,ç”±äºæ­¤æ—¶[<span class="number">2</span>*<span class="built_in">id</span><span class="number">-1</span>,i]éƒ½æ˜¯ä»¥<span class="built_in">id</span>ä¸ºä¸­å¿ƒçš„å›æ–‡ä¸²ï¼Œåˆlen[i]=len[<span class="number">2</span>*<span class="built_in">id</span><span class="number">-1</span>],ä¸¤è€…ä¹Ÿå…³äº<span class="built_in">id</span>å¯¹ç§°ï¼Œ</span><br><span class="line">é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æŠŠ<span class="built_in">id</span>ä¸ºå¯¹ç§°ä¸­å¿ƒçš„åŠå¾„æ‰©å±•åˆ°len[<span class="built_in">id</span>]=len[<span class="number">2</span>*<span class="built_in">id</span><span class="number">-1</span>]+i-<span class="built_in">id</span>&gt;mx-i,è¿™ä¸å‡è®¾len[<span class="built_in">id</span>]=mx-içŸ›ç›¾,å›ºæˆ‘ä»¬å–è¾ƒå°çš„é‚£ä¸ª</span><br></pre></td></tr></table></figure></p><p>é‚£ä¹ˆæˆ‘ä»¬è¿˜æœ‰å¦ä¸€ç§æƒ…å†µâ€™i&gt;=mxâ€™ï¼š<br>æ­¤æ—¶æ²¡æœ‰åŠæ³•ï¼Œåªèƒ½è€è€å®å®å‘å¤–æ‰©å±•</p><p>ä»¥ä¸‹æ˜¯å®Œæ•´ä»£ç :<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">public String longestPalindromicSubstring(String s)</span><br><span class="line">&#123;</span><br><span class="line">   String str=<span class="string">"#"</span>;</span><br><span class="line">   <span class="keyword">int</span> id=<span class="number">0</span>,mx=<span class="number">0</span>,maxlen=<span class="number">0</span>,maxid=<span class="number">0</span>;</span><br><span class="line">     <span class="keyword">int</span>[] <span class="built_in">len</span>=<span class="built_in">new</span> <span class="keyword">int</span>[<span class="number">2</span>*s.length()+<span class="number">1</span>];</span><br><span class="line">   <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;s.length();i++)</span><br><span class="line">   &#123;</span><br><span class="line">     str+=s.charAt(i)+<span class="string">"#"</span>;   <span class="comment">//å­—ç¬¦ä¸²ä¹‹é—´æ’å…¥'#'</span></span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;str.length();i++)</span><br><span class="line">   &#123;</span><br><span class="line">     <span class="keyword">if</span>(i&lt;mx) <span class="built_in">len</span>[i]=Math.min(mx-i, <span class="built_in">len</span>[<span class="number">2</span>*id-i]);  <span class="comment">//ç¬¬ä¸€ç§æƒ…å†µ</span></span><br><span class="line">     while(i-<span class="built_in">len</span>[i]&gt;=<span class="number">0</span> &amp;&amp; i+<span class="built_in">len</span>[i]&lt;=str.length()<span class="number">-1</span> &amp;&amp; str.charAt(i-<span class="built_in">len</span>[i])==str.charAt(i+<span class="built_in">len</span>[i])) <span class="built_in">len</span>[i]++;</span><br><span class="line">     <span class="keyword">if</span>(mx&lt;<span class="built_in">len</span>[i]+i)  <span class="comment">//æ›´æ–°</span></span><br><span class="line">     &#123;</span><br><span class="line">       id=i;</span><br><span class="line">       mx=<span class="built_in">len</span>[i]+i;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">if</span>(maxlen&lt;<span class="built_in">len</span>[i]) <span class="comment">//æ›´æ–°æœ€å¤§é•¿åº¦</span></span><br><span class="line">     &#123;</span><br><span class="line">       maxlen=<span class="built_in">len</span>[i];</span><br><span class="line">       maxid=i;</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> s.substring((maxid-maxlen+<span class="number">1</span>)/<span class="number">2</span>,(maxid+maxlen)/<span class="number">2</span>);  <span class="comment">//è¿”å›æœ€å¤§å›æ–‡ä¸²çš„ç©ºé—´</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦å‡ä¸ºO(n)</p>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®ç»“æ„ </category>
          
          <category> åŠ¨æ€è§„åˆ’ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> dp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ€»ç»“javaåå°„(äºŒ)</title>
      <link href="/reflect2/"/>
      <url>/reflect2/</url>
      
        <content type="html"><![CDATA[<p><img src="https://s2.ax1x.com/2019/03/23/AGMjBR.jpg" alt="AGMjBR.jpg"><br><a id="more"></a></p><h1 id="åˆ†æç±»èƒ½åŠ›"><a href="#åˆ†æç±»èƒ½åŠ›" class="headerlink" title="åˆ†æç±»èƒ½åŠ›:"></a>åˆ†æç±»èƒ½åŠ›:</h1><p>åœ¨ä¸Šä¸€ç« ç®€ç•¥(ååˆ†ç®€ç•¥)çš„ä»‹ç»äº†åå°„çš„æœºåˆ¶,é‚£ä¹ˆè¿™ä¸€èŠ‚æˆ‘ä»¬å…·ä½“ä»‹ç»åå°„æœºåˆ¶çš„é‡è¦å†…å®¹â€”-<code>æ£€æŸ¥ç±»çš„ç»“æ„</code>.</p><hr><p>è¦äº†è§£javaä¸­ç±»çš„ç»“æ„ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“ç±»åŒ…æ‹¬ä¸‰ä¸ªç»“æ„:<code>Field(æ•°æ®åŸŸ:å¸¸é‡ï¼Œå…¨å±€å˜é‡),Method(ç±»æ–¹æ³•),Constructor(ç±»æ„é€ å™¨)</code>.</p><p>å¥½çš„ï¼Œæˆ‘ä»¬å·æ‡’å¤åˆ¶ä¸Šä¸€èŠ‚çš„ğŸ—¡ç±»æ¥åšä¸ªä¾‹å­:</p><hr><p>ä»¥ä¸‹æ˜¯ğŸ—¡çš„æ•°æ®åŸŸï¼š<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> level;  <span class="comment">//ğŸ—¡çš„ç­‰çº§</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> durability;  <span class="comment">//ğŸ—¡çš„è€ä¹…åº¦</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> attack;  <span class="comment">//ğŸ—¡çš„æ”»å‡»åŠ›</span></span><br></pre></td></tr></table></figure></p><hr><p>ä»¥ä¸‹æ˜¯ğŸ—¡çš„ç±»æ–¹æ³•:</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getLevel</span><span class="params">()</span> </span>&#123; <span class="comment">//è·å–ç­‰çº§</span></span><br><span class="line">  <span class="keyword">return</span> level;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getDurability</span><span class="params">()</span> </span>&#123;  <span class="comment">//è·å–è€ä¹…åº¦</span></span><br><span class="line">  <span class="keyword">return</span> durability;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAttack</span><span class="params">()</span> </span>&#123;  <span class="comment">//è·å–æ”»å‡»åŠ›</span></span><br><span class="line">  <span class="keyword">return</span> attack;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">strenthen</span><span class="params">()</span> </span>&#123;  <span class="comment">//å¼ºåŒ–ğŸ—¡çš„ç­‰çº§</span></span><br><span class="line">  <span class="keyword">int</span> random=(<span class="keyword">int</span>) (Math.random()+<span class="number">1</span>);</span><br><span class="line">  level+=random;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><p>ä»¥ä¸‹æ˜¯ğŸ—¡çš„æ„é€ å™¨:<br><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> Sword()&#123;</span><br><span class="line">  <span class="keyword">this</span>.level=<span class="number">1</span>;</span><br><span class="line">  <span class="keyword">this</span>.durability=<span class="number">150</span>;</span><br><span class="line">  <span class="keyword">this</span>.attack=<span class="number">150</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><p>é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•ç”¨åå°„æœºåˆ¶æ¥è·å¾—ğŸ—¡ç±»çš„ç»“æ„å‘¢?</p><h2 id="reflectåŒ…"><a href="#reflectåŒ…" class="headerlink" title="reflectåŒ…:"></a>reflectåŒ…:</h2><p>åœ¨java.lang.reflectåŒ…ä¸­æœ‰ä¸‰ä¸ªç±»Field,Methodå’ŒConstructoråˆ†åˆ«ç”¨äºæè¿°ç±»çš„åŸŸï¼Œæ–¹æ³•å’Œæ„é€ å™¨.<br>å…·ä½“æ¥çœ‹å®ƒä»¬ä¹‹é—´çš„å…³ç³»:<br><a href="https://imgchr.com/i/AGMl01" target="_blank" rel="noopener"><img src="https://s2.ax1x.com/2019/03/23/AGMl01.md.png" alt="AGMl01.md.png"></a><br>å¯ä»¥çœ‹åˆ°Field,Method,Constructoréƒ½ç»§æ‰¿AccesibleObjectç±»ï¼Œå¹¶å®ç°Numberæ¥å£ã€‚</p><p>é¦–å…ˆæˆ‘ä»¬æ¥çœ‹å®ƒä»¬çš„å…±åŒçˆ¶ç±»<code>AccessibleObject</code>ç±»:</p><h3 id="AccessibleObjectç±»"><a href="#AccessibleObjectç±»" class="headerlink" title="AccessibleObjectç±»:"></a><em>AccessibleObjectç±»</em>:</h3><p>å®ƒæœ‰æœ€å¸¸ç”¨ä¸”æ ¸å¿ƒçš„ä¸‰ä¸ªæ–¹æ³•:<br>1.<code>void setAccesible(boolean flag)</code><br>ä¸ºåå°„çš„å¯¹è±¡è®¾ç½®å¯è®¿é—®æ ‡å¿—.flagä¸ºtrueè¡¨æ˜å±è”½Javaè¯­è¨€çš„è®¿é—®æ£€æŸ¥ï¼Œä½¿å¾—å¯¹è±¡çš„ç§æœ‰å±æ€§ä¹Ÿå¯ä»¥è¢«æŸ¥è¯¢å’Œè®¾ç½®.<br>ä¹Ÿå°±æ˜¯è¯´å¯ä»¥ç¯¡æ”¹ğŸ—¡çš„ç­‰çº§å’Œè€ä¹…åº¦äº†(å¦‚æ­¤ç—…æ€)<br>2.<code>boolean isAccessible()</code><br>è¿”å›åå°„å¯¹è±¡çš„å¯è®¿é—®æ ‡å¿—çš„å€¼.æ˜¯privateå°±è¿”å›false,æ˜¯publicå°±è¿”å›true.<br>3.<code>static void setAccesible(AccessibleObject[] array,boolean flag)</code><br>è¿™ä¸ªå°±æ›´ç‹ äº†ï¼Œé™æ€æ–¹æ³•ï¼Œèƒ½å¤Ÿå¿«æ·åœ°å¯¹å¯¹è±¡æ•°ç»„è®¾ç½®å¯è®¿é—®æ ‡å¿—</p><hr><p>ç®€å•äº†è§£äº†AccessibleObjectç±»åï¼Œæˆ‘ä»¬æ¥çœ‹å®ƒä»¬éƒ½å®ç°çš„æ¥å£:Number.</p><h3 id="Numberæ¥å£"><a href="#Numberæ¥å£" class="headerlink" title="Numberæ¥å£:"></a><em>Numberæ¥å£</em>:</h3><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> java.lang.reflect;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> Member&#123;</span><br><span class="line">   <span class="comment">/**</span></span><br><span class="line"><span class="comment">    *è¡¨æ˜ä¸€ä¸ªç±»æˆ–æ¥å£ä¸­æ‰€æœ‰å…¬å…±æˆå‘˜çš„é›†åˆ</span></span><br><span class="line"><span class="comment">    *åŒ…æ‹¬ç»§æ‰¿(æ´¾ç”Ÿ)çš„æˆå‘˜</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> <span class="keyword">PUBLIC</span> = <span class="number">0</span>;</span><br><span class="line">   <span class="comment">/**</span></span><br><span class="line"><span class="comment">    *è¡¨æ˜ä¸€ä¸ªç±»æˆ–æ¥å£ä¸­å£°æ˜æˆå‘˜çš„é›†åˆ</span></span><br><span class="line"><span class="comment">    *ä¸åŒ…æ‹¬ç»§æ‰¿(æ´¾ç”Ÿ)çš„æˆå‘˜</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> DECLARED = <span class="number">1</span>;</span><br><span class="line">   <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¿”å›å®ç°äº†è¯¥æ¥å£çš„ç±»æˆ–æ¥å£çš„Classç±»å¯¹è±¡(å‚è€ƒç¬¬ä¸€èŠ‚æ‰€æåˆ°çš„Classç±»)</span></span><br><span class="line"><span class="comment">     * å¹¶å£°æ˜æˆå‘˜æˆ–æ„é€ å™¨.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">Class</span>&lt;?&gt; getDeclaringClass();</span><br><span class="line">   <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¿”å›å®ç°è¯¥æ¥å£çš„æˆå‘˜æˆ–æ„é€ å™¨çš„åç§°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">   <span class="keyword">public</span> String getName();</span><br><span class="line">   <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¿”å›Javaè¯­è¨€ä¸­å¯¹æˆå‘˜æˆ–æ„é€ å™¨çš„è§£æå€¼(intå¸¸é‡).</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> getModifiers();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šä»£ç æ‘˜æŠ„è‡ªJavaSE-10çš„æºç .<br>æˆ‘ä»¬ç€é‡çœ‹<code>getModifiers()</code>è¿™ä¸ªæ–¹æ³•ï¼Œå®ƒè¿”å›ä¸€ä¸ªç±»æˆ–æ¥å£çš„è§£æintå€¼ï¼Œé‚£å®ƒå…·ä½“ä»£è¡¨ä»€ä¹ˆå‘¢?<br>è¿™é‡Œå°±ä¸å¾—ä¸è¦æåˆ°ä¸€ä¸ªè§£æç±»<code>Modifier</code>:</p><h3 id="Modifierç±»"><a href="#Modifierç±»" class="headerlink" title="Modifierç±»:"></a><em>Modifierç±»</em>:</h3><p>é¦–å…ˆçœ‹Modifierç±»ä¸­çš„å¸¸é‡éƒ¨åˆ†<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> <span class="keyword">PUBLIC</span>       = <span class="number">0</span>x00000001;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> <span class="keyword">PRIVATE</span>      = <span class="number">0</span>x00000002;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> <span class="keyword">PROTECTED</span>    = <span class="number">0</span>x00000004;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> <span class="keyword">STATIC</span>       = <span class="number">0</span>x00000008;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> <span class="keyword">FINAL</span>        = <span class="number">0</span>x00000010;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> <span class="keyword">SYNCHRONIZED</span> = <span class="number">0</span>x00000020;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> <span class="keyword">VOLATILE</span>     = <span class="number">0</span>x00000040;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> <span class="keyword">TRANSIENT</span>    = <span class="number">0</span>x00000080;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> <span class="keyword">NATIVE</span>       = <span class="number">0</span>x00000100;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> <span class="keyword">INTERFACE</span>    = <span class="number">0</span>x00000200;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> <span class="keyword">ABSTRACT</span>     = <span class="number">0</span>x00000400;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> STRICT       = <span class="number">0</span>x00000800;</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> BRIDGE    = <span class="number">0</span>x00000040;</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> VARARGS   = <span class="number">0</span>x00000080;</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> SYNTHETIC = <span class="number">0</span>x00001000;</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> ANNOTATION  = <span class="number">0</span>x00002000;</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> ENUM      = <span class="number">0</span>x00004000;</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> MANDATED  = <span class="number">0</span>x00008000;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> CLASS_MODIFIERS =</span><br><span class="line">        Modifier.<span class="keyword">PUBLIC</span>         | Modifier.<span class="keyword">PROTECTED</span>    | Modifier.<span class="keyword">PRIVATE</span> |</span><br><span class="line">        Modifier.<span class="keyword">ABSTRACT</span>       | Modifier.<span class="keyword">STATIC</span>       | Modifier.<span class="keyword">FINAL</span>   |</span><br><span class="line">        Modifier.STRICT;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> INTERFACE_MODIFIERS =</span><br><span class="line">        Modifier.<span class="keyword">PUBLIC</span>         | Modifier.<span class="keyword">PROTECTED</span>    | Modifier.<span class="keyword">PRIVATE</span> |</span><br><span class="line">        Modifier.<span class="keyword">ABSTRACT</span>       | Modifier.<span class="keyword">STATIC</span>       | Modifier.STRICT;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> CONSTRUCTOR_MODIFIERS =</span><br><span class="line">        Modifier.<span class="keyword">PUBLIC</span>         | Modifier.<span class="keyword">PROTECTED</span>    | Modifier.<span class="keyword">PRIVATE</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> METHOD_MODIFIERS =</span><br><span class="line">        Modifier.<span class="keyword">PUBLIC</span>         | Modifier.<span class="keyword">PROTECTED</span>    | Modifier.<span class="keyword">PRIVATE</span> |</span><br><span class="line">        Modifier.<span class="keyword">ABSTRACT</span>       | Modifier.<span class="keyword">STATIC</span>       | Modifier.<span class="keyword">FINAL</span>   |</span><br><span class="line">        Modifier.<span class="keyword">SYNCHRONIZED</span>   | Modifier.<span class="keyword">NATIVE</span>       | Modifier.STRICT;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> FIELD_MODIFIERS =</span><br><span class="line">        Modifier.<span class="keyword">PUBLIC</span>         | Modifier.<span class="keyword">PROTECTED</span>    | Modifier.<span class="keyword">PRIVATE</span> |</span><br><span class="line">        Modifier.<span class="keyword">STATIC</span>         | Modifier.<span class="keyword">FINAL</span>        | Modifier.<span class="keyword">TRANSIENT</span> |</span><br><span class="line">        Modifier.<span class="keyword">VOLATILE</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> PARAMETER_MODIFIERS =</span><br><span class="line">        Modifier.<span class="keyword">FINAL</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> ACCESS_MODIFIERS =</span><br><span class="line">        Modifier.<span class="keyword">PUBLIC</span> | Modifier.<span class="keyword">PROTECTED</span> | Modifier.<span class="keyword">PRIVATE</span>;</span><br></pre></td></tr></table></figure></p><p>å¯ä»¥çœ‹å‡ºæ¯ä¸€ä¸ªç±»å‹éƒ½æœ‰å¯¹åº”çš„16è¿›åˆ¶intå€¼å¯¹åº”,å¹¶é€šè¿‡:<br><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> isPublic(<span class="keyword">int</span> <span class="keyword">mod</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">mod</span> &amp; PUBLIC) != <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> isPrivate(<span class="keyword">int</span> <span class="keyword">mod</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">mod</span> &amp; PRIVATE) != <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> isProtected(<span class="keyword">int</span> <span class="keyword">mod</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">mod</span> &amp; PROTECTED) != <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> isStatic(<span class="keyword">int</span> <span class="keyword">mod</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">mod</span> &amp; STATIC) != <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> isFinal(<span class="keyword">int</span> <span class="keyword">mod</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">mod</span> &amp; FINAL) != <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> isSynchronized(<span class="keyword">int</span> <span class="keyword">mod</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">mod</span> &amp; SYNCHRONIZED) != <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> isVolatile(<span class="keyword">int</span> <span class="keyword">mod</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">mod</span> &amp; VOLATILE) != <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> isTransient(<span class="keyword">int</span> <span class="keyword">mod</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">mod</span> &amp; TRANSIENT) != <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> isNative(<span class="keyword">int</span> <span class="keyword">mod</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">mod</span> &amp; NATIVE) != <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> isInterface(<span class="keyword">int</span> <span class="keyword">mod</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">mod</span> &amp; INTERFACE) != <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> isAbstract(<span class="keyword">int</span> <span class="keyword">mod</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">mod</span> &amp; ABSTRACT) != <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> isStrict(<span class="keyword">int</span> <span class="keyword">mod</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">mod</span> &amp; STRICT) != <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">Â·Â·Â·</span><br></pre></td></tr></table></figure></p><p>ä¸€ç³»åˆ—åˆ¤æ–­çš„é™æ€æ–¹æ³•ï¼Œæ¥ç¡®å®šç±»å‹(è¿”å›å€¼,ç±»,æ¥å£,å¸¸é‡ç±»å‹).<br>æœ€åé€šè¿‡toString()æ–¹æ³•æ‰“å°:<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">public static String toString(int mod) &#123;</span><br><span class="line">        StringJoiner sj = new StringJoiner(<span class="string">" "</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> ((mod &amp; PUBLIC) != 0)        sj.<span class="builtin-name">add</span>(<span class="string">"public"</span>);</span><br><span class="line">        <span class="keyword">if</span> ((mod &amp; PROTECTED) != 0)     sj.<span class="builtin-name">add</span>(<span class="string">"protected"</span>);</span><br><span class="line">        <span class="keyword">if</span> ((mod &amp; PRIVATE) != 0)       sj.<span class="builtin-name">add</span>(<span class="string">"private"</span>);</span><br><span class="line">        <span class="keyword">if</span> ((mod &amp; ABSTRACT) != 0)      sj.<span class="builtin-name">add</span>(<span class="string">"abstract"</span>);</span><br><span class="line">        <span class="keyword">if</span> ((mod &amp; STATIC) != 0)        sj.<span class="builtin-name">add</span>(<span class="string">"static"</span>);</span><br><span class="line">        <span class="keyword">if</span> ((mod &amp; FINAL) != 0)         sj.<span class="builtin-name">add</span>(<span class="string">"final"</span>);</span><br><span class="line">        <span class="keyword">if</span> ((mod &amp; TRANSIENT) != 0)     sj.<span class="builtin-name">add</span>(<span class="string">"transient"</span>);</span><br><span class="line">        <span class="keyword">if</span> ((mod &amp; VOLATILE) != 0)      sj.<span class="builtin-name">add</span>(<span class="string">"volatile"</span>);</span><br><span class="line">        <span class="keyword">if</span> ((mod &amp; SYNCHRONIZED) != 0)  sj.<span class="builtin-name">add</span>(<span class="string">"synchronized"</span>);</span><br><span class="line">        <span class="keyword">if</span> ((mod &amp; NATIVE) != 0)        sj.<span class="builtin-name">add</span>(<span class="string">"native"</span>);</span><br><span class="line">        <span class="keyword">if</span> ((mod &amp; STRICT) != 0)        sj.<span class="builtin-name">add</span>(<span class="string">"strictfp"</span>);</span><br><span class="line">        <span class="keyword">if</span> ((mod &amp; INTERFACE) != 0)     sj.<span class="builtin-name">add</span>(<span class="string">"interface"</span>);</span><br><span class="line"></span><br><span class="line">        return sj.toString();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p><hr><h3 id="Fieldç±»"><a href="#Fieldç±»" class="headerlink" title="Fieldç±»:"></a><em>Fieldç±»</em>:</h3><p><code>Field[] getFields()</code><br><code>Field[] getDeclaredFields()</code><br>getFieldsæ–¹æ³•è¿”å›ä¸€ä¸ªåŒ…å«Fieldå¯¹è±¡çš„æ•°ç»„ï¼Œè®°å½•è¿™ä¸ªç±»æˆ–å…¶è¶…ç±»çš„å…¬æœ‰åŸŸã€‚getDeclaredFieldsæ–¹æ³•ä¹Ÿè¿”å›åŒ…å«Fieldså¯¹è±¡çš„æ•°ç»„ï¼Œè®°å½•è¿™ä¸ªç±»çš„å…¨éƒ¨åŸŸã€‚å¦‚æœæ²¡æœ‰æ•°æ®åŸŸï¼Œåˆ™å°†è¿”å›ä¸€ä¸ªé•¿åº¦ä¸º0çš„æ•°ç»„ã€‚<br><code>Class getType()</code><br>è¿”å›æ•°æ®åŸŸå¯¹åº”ç±»å‹çš„Classç±»<br>ä¸‹é¢æˆ‘ä»¬é€šè¿‡è¿™äº›æ–¹æ³•æ¥è·å¾—ğŸ—¡ç±»çš„æ•°æ®åŸŸ</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"> public static void main(String[] <span class="keyword">args</span>)</span><br><span class="line"> &#123;</span><br><span class="line"> Sword s=new Sword();</span><br><span class="line"> <span class="keyword">Class</span> <span class="keyword">cl</span>=s.getClass();</span><br><span class="line"> String modifiers=Modifier.<span class="keyword">toString</span>(<span class="keyword">cl</span>.getModifiers());  <span class="comment">//é€šè¿‡è§£æå™¨è·å¾—clçš„è®¿é—®ç±»å‹.</span></span><br><span class="line"> <span class="keyword">if</span>(modifiers.<span class="built_in">length</span>()&gt;0) System.<span class="keyword">out</span>.<span class="keyword">print</span>(modifiers + <span class="string">" "</span> + <span class="keyword">cl</span>.getName()); <span class="comment">//è¾“å‡ºğŸ—¡ç±»åå­—</span></span><br><span class="line"> System.<span class="keyword">out</span>.<span class="keyword">print</span>(<span class="string">"\n&#123;\n"</span>);</span><br><span class="line"> printFields(<span class="keyword">cl</span>);  <span class="comment">//æ‰“å°ğŸ—¡ç±»çš„æ•°æ®åŸŸ</span></span><br><span class="line"> System.<span class="keyword">out</span>.<span class="keyword">print</span>(<span class="string">"\n&#125;\n"</span>);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line">public static void printFields(<span class="keyword">Class</span> <span class="keyword">cl</span>)</span><br><span class="line">&#123;</span><br><span class="line"> Field[] fields=<span class="keyword">cl</span>.getDeclaredFields();  <span class="comment">//è·å¾—ğŸ—¡ç±»çš„å…¨éƒ¨æ•°æ®åŸŸ</span></span><br><span class="line"></span><br><span class="line"> <span class="keyword">for</span>(Field f:fields)  <span class="comment">//éå†æ¯ä¸ªæ•°æ®</span></span><br><span class="line"> &#123;</span><br><span class="line">  <span class="keyword">Class</span> <span class="keyword">type</span>=f.getType();  <span class="comment">//è·å¾—æ•°æ®ç±»å‹çš„Classå¯¹è±¡</span></span><br><span class="line">  String name=f.getName();  <span class="comment">//è·å–æ•°æ®çš„åå­—</span></span><br><span class="line">  System.<span class="keyword">out</span>.<span class="keyword">print</span>(<span class="string">"    "</span>);  </span><br><span class="line">  String modifiers=Modifier.<span class="keyword">toString</span>(f.getModifiers()); <span class="comment">//é€šè¿‡è§£æå™¨è·å¾—clçš„è®¿é—®ç±»å‹</span></span><br><span class="line">  <span class="keyword">if</span>(modifiers.<span class="built_in">length</span>()&gt;0) System.<span class="keyword">out</span>.<span class="keyword">print</span>(modifiers + <span class="string">" "</span>);</span><br><span class="line">  System.<span class="keyword">out</span>.println(<span class="keyword">type</span>.getName() + <span class="string">" "</span> + name + <span class="string">";"</span>); <span class="comment">//è¾“å‡ºå¯¹åº”ç±»å‹å’Œåå­—</span></span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸‹æ˜¯è¾“å‡ºç»“æœ<br><figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line"> <span class="keyword"> public</span> core.Sword</span><br><span class="line">  &#123;</span><br><span class="line">   <span class="keyword"> private</span><span class="built_in"> int </span>level;</span><br><span class="line">   <span class="keyword"> private</span><span class="built_in"> int </span>durability;</span><br><span class="line">   <span class="built_in"> int </span>attack;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">*/</span><br></pre></td></tr></table></figure></p><h3 id="Methodç±»"><a href="#Methodç±»" class="headerlink" title="Methodç±»:"></a><em>Methodç±»</em>:</h3><p>åŒæ ·<br><code>Method[] getMethods()</code><br><code>Method[] getDeclaredMethods()</code><br>è¿”å›åŒ…å«Methodå¯¹è±¡çš„æ•°ç»„ï¼šgetMethodsè¿”å›æ‰€æœ‰å…¬æœ‰æ–¹æ³•,åŒ…æ‹¬ä»è¶…ç±»ç»§æ‰¿æ¥çš„å…¬æœ‰æ–¹æ³•;getDeclaredMethodsè¿”å›è¿™ä¸ªç±»æˆ–æ¥å£çš„å…¨éƒ¨æ–¹æ³•ï¼Œä½†ä¸åŒ…æ‹¬ç”±è¶…ç±»ç»§æ‰¿æ¥çš„æ–¹æ³•<br><code>Class getReturnType()</code><br>æè¿°æ–¹æ³•è¿”å›ç±»å‹çš„Classå¯¹è±¡<br><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">public static void main(String[] <span class="keyword">args</span>)</span><br><span class="line">&#123;</span><br><span class="line">    Sword s=new Sword(10,150,10);</span><br><span class="line">    <span class="keyword">Class</span> <span class="keyword">cl</span>=s.getClass();</span><br><span class="line">    String modifiers=Modifier.<span class="keyword">toString</span>(<span class="keyword">cl</span>.getModifiers());</span><br><span class="line">    <span class="keyword">if</span>(modifiers.<span class="built_in">length</span>()&gt;0) System.<span class="keyword">out</span>.<span class="keyword">print</span>(modifiers + <span class="string">" "</span> + <span class="keyword">cl</span>.getName());</span><br><span class="line">    System.<span class="keyword">out</span>.<span class="keyword">print</span>(<span class="string">"\n&#123;\n"</span>);</span><br><span class="line">    <span class="comment">//printFields(cl);</span></span><br><span class="line">    printMethods(<span class="keyword">cl</span>); <span class="comment">//æ‰“å°æ–¹æ³•</span></span><br><span class="line">    System.<span class="keyword">out</span>.<span class="keyword">print</span>(<span class="string">"\n&#125;\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line">public static void printMethods(<span class="keyword">Class</span> <span class="keyword">cl</span>)</span><br><span class="line">&#123;</span><br><span class="line">Method[] methods=<span class="keyword">cl</span>.getDeclaredMethods(); <span class="comment">//è·å¾—æ‰€æœ‰å£°æ˜çš„æ–¹æ³•</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(Method <span class="keyword">m</span>:methods)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">Class</span> retType=<span class="keyword">m</span>.getReturnType(); <span class="comment">//è·å¾—æ–¹æ³•çš„è¿”å›å€¼ç±»å‹</span></span><br><span class="line">String name=<span class="keyword">m</span>.getName();  <span class="comment">//è·å–æ–¹æ³•å</span></span><br><span class="line"></span><br><span class="line">System.<span class="keyword">out</span>.<span class="keyword">print</span>(<span class="string">"    "</span>);</span><br><span class="line">String modifiers=Modifier.<span class="keyword">toString</span>(<span class="keyword">m</span>.getModifiers()); <span class="comment">//è·å–è®¿é—®æƒé™</span></span><br><span class="line"><span class="keyword">if</span>(modifiers.<span class="built_in">length</span>()&gt;0) System.<span class="keyword">out</span>.<span class="keyword">print</span>(modifiers+<span class="string">" "</span>);  <span class="comment">//æ‰“å°è®¿é—®æƒé™</span></span><br><span class="line">System.<span class="keyword">out</span>.<span class="keyword">print</span>(retType.getName() + <span class="string">" "</span> +name + <span class="string">"("</span>);  <span class="comment">//æ‰“å°æ–¹æ³•åå’Œè¿”å›ç±»å‹</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">Class</span>[] paramTypes = <span class="keyword">m</span>.getParameterTypes();  <span class="comment">//å–å¾—æ–¹æ³•çš„å‚æ•°</span></span><br><span class="line"><span class="keyword">for</span>(int j=0;j&lt;paramTypes.length;j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(j&gt;0) System.<span class="keyword">out</span>.<span class="keyword">print</span>(<span class="string">", "</span>);</span><br><span class="line">System.<span class="keyword">out</span>.<span class="keyword">print</span>(paramTypes[j].getName()); <span class="comment">//æ‰“å°å‚æ•°</span></span><br><span class="line">&#125;</span><br><span class="line">System.<span class="keyword">out</span>.println(<span class="string">");"</span>);</span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">  <span class="comment">//è¾“å‡ºç»“æœ</span></span><br><span class="line">  <span class="comment">//public core.Sword</span></span><br><span class="line">  <span class="comment">//&#123;</span></span><br><span class="line">      <span class="comment">//public int getAttack();</span></span><br><span class="line">      <span class="comment">//public void strenthen();</span></span><br><span class="line">      <span class="comment">//public int getDurability();</span></span><br><span class="line">      <span class="comment">//public int getLevel();</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//&#125;</span></span><br></pre></td></tr></table></figure></p><hr><h3 id="Constructorç±»"><a href="#Constructorç±»" class="headerlink" title="Constructorç±»:"></a><em>Constructorç±»</em>:</h3><p><code>Constructor[] getConstructors()</code><br><code>Constructor[] getDeclaredConstructors()</code></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">public static void main(String[] <span class="keyword">args</span>)</span><br><span class="line">&#123;</span><br><span class="line">    Sword s=new Sword(10,150,10);</span><br><span class="line">    <span class="keyword">Class</span> <span class="keyword">cl</span>=s.getClass();</span><br><span class="line">    String modifiers=Modifier.<span class="keyword">toString</span>(<span class="keyword">cl</span>.getModifiers());</span><br><span class="line">    <span class="keyword">if</span>(modifiers.<span class="built_in">length</span>()&gt;0) System.<span class="keyword">out</span>.<span class="keyword">print</span>(modifiers + <span class="string">" "</span> + <span class="keyword">cl</span>.getName());</span><br><span class="line">    System.<span class="keyword">out</span>.<span class="keyword">print</span>(<span class="string">"\n&#123;\n"</span>);</span><br><span class="line">    <span class="comment">//printFields(cl);</span></span><br><span class="line">    <span class="comment">//printMethods(cl);</span></span><br><span class="line">      printConstructors(<span class="keyword">cl</span>);  <span class="comment">//æ‰“å°æ„é€ å™¨</span></span><br><span class="line">    System.<span class="keyword">out</span>.<span class="keyword">print</span>(<span class="string">"\n&#125;\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line">public static void printConstructors(<span class="keyword">Class</span> <span class="keyword">cl</span>)</span><br><span class="line">&#123;</span><br><span class="line">    Constructor[] constructors=<span class="keyword">cl</span>.getDeclaredConstructors(); <span class="comment">//è·å–æ‰€æœ‰å£°æ˜çš„æ„é€ å™¨</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(Constructor c:constructors)</span><br><span class="line">    &#123;</span><br><span class="line">        String name=c.getName(); <span class="comment">//å–å¾—æ„é€ å™¨åå­—</span></span><br><span class="line">        System.<span class="keyword">out</span>.<span class="keyword">print</span>(<span class="string">"    "</span>);</span><br><span class="line">            String modifiers=Modifier.<span class="keyword">toString</span>(c.getModifiers());  <span class="comment">//è·å–è®¿é—®æƒé™</span></span><br><span class="line">            <span class="keyword">if</span>(modifiers.<span class="built_in">length</span>()&gt;0) System.<span class="keyword">out</span>.<span class="keyword">print</span>(modifiers+<span class="string">" "</span>);</span><br><span class="line">            System.<span class="keyword">out</span>.<span class="keyword">print</span>(name + <span class="string">"("</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">Class</span>[] paramTypes=c.getParameterTypes(); <span class="comment">//è·å–å‚æ•°</span></span><br><span class="line">            <span class="keyword">for</span>(int j=0;j&lt;paramTypes.length;j++)</span><br><span class="line">            &#123;</span><br><span class="line">            <span class="keyword">if</span>(j&gt;0) System.<span class="keyword">out</span>.<span class="keyword">print</span>(<span class="string">","</span>);</span><br><span class="line">            System.<span class="keyword">out</span>.<span class="keyword">print</span>(paramTypes[j].getName());  <span class="comment">//æ‰“å°å‚æ•°å</span></span><br><span class="line">            &#125;</span><br><span class="line">            System.<span class="keyword">out</span>.println(<span class="string">");"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//è¾“å‡º</span></span><br><span class="line"><span class="comment">//public core.Sword</span></span><br><span class="line"><span class="comment">//&#123;</span></span><br><span class="line">    <span class="comment">//public core.Sword(int,int,int);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//&#125;</span></span><br></pre></td></tr></table></figure><hr><p>ä»¥ä¸Šæ˜¯åå°„ä¸‰ä¸ªåŒ…çš„å…·ä½“åº”ç”¨<br>ä¸‹ä¸€ç« æˆ‘ä»¬ä½¿ç”¨åå°„æ”¹å†™æ•°ç»„çš„å¤åˆ¶ä»£ç .</p>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åå°„ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ€»ç»“javaåå°„(ä¸€)</title>
      <link href="/hello-world/"/>
      <url>/hello-world/</url>
      
        <content type="html"><![CDATA[<p><img src="https://s2.ax1x.com/2019/03/17/Ae4vG9.jpg" alt="å¤æ˜åœ°è§‰"><br><a id="more"></a></p><h1 id="åå°„"><a href="#åå°„" class="headerlink" title="åå°„:"></a><strong>åå°„</strong>:</h1><p>åå°„åº“æ˜¯javaä¸­èƒ½å¤ŸåŠ¨æ€çš„æ“çºµjavaä»£ç çš„ç¨‹åºï¼Œè¿™ç§èƒ½åˆ†æç±»èƒ½åŠ›çš„ç¨‹åºè¢«ç§°ä¸ºåå°„(reflective).<br>é‚£ä¹ˆåå°„å…·ä½“æœ‰å“ªäº›åå°„æœºåˆ¶å‘¢ï¼Ÿ</p><p>é¦–å…ˆæ¥è¯´Classç±»</p><h2 id="Class-ç±»"><a href="#Class-ç±»" class="headerlink" title="Class ç±»"></a>Class ç±»</h2><p>åœ¨ç¨‹åºè¿è¡ŒæœŸé—´ï¼Œæœ‰ç€è®°å½•å¯¹è±¡æ‰€å±çš„ç±»çš„ä¿¡æ¯çš„ç±»ï¼Œé‚£å°±æ˜¯Classç±»ã€‚</p><hr><h3 id="å››ä¸ªé‡è¦æ–¹æ³•"><a href="#å››ä¸ªé‡è¦æ–¹æ³•" class="headerlink" title="å››ä¸ªé‡è¦æ–¹æ³•:"></a>å››ä¸ªé‡è¦æ–¹æ³•:</h3><p>Objectç±»ä¸­æœ‰ä¸€ä¸ªæ–¹æ³•<code>getClass()</code> ï¼Œå®ƒèƒ½è¿”å›Classç±»å‹çš„å®ä¾‹ï¼š<br>ç°åœ¨è®©æˆ‘ä»¬æ¥åˆ›å»ºä¸€ä¸ªç®€å•çš„ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> sword;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Sword</span></span>&#123;</span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">int</span> level;  <span class="comment">//ğŸ—¡çš„ç­‰çº§</span></span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">int</span> durability;  <span class="comment">//ğŸ—¡çš„è€ä¹…åº¦</span></span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">int</span> attack;  <span class="comment">//ğŸ—¡çš„æ”»å‡»åŠ›</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">Sword</span><span class="params">()</span></span>&#123;</span><br><span class="line">     <span class="keyword">this</span>.level=<span class="number">1</span>;</span><br><span class="line">     <span class="keyword">this</span>.durability=<span class="number">150</span>;</span><br><span class="line">     <span class="keyword">this</span>.attack=<span class="number">150</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getLevel</span><span class="params">()</span> </span>&#123; <span class="comment">//è·å–ç­‰çº§</span></span><br><span class="line">     <span class="keyword">return</span> level;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getDurability</span><span class="params">()</span> </span>&#123;  <span class="comment">//è·å–è€ä¹…åº¦</span></span><br><span class="line">     <span class="keyword">return</span> durability;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAttack</span><span class="params">()</span> </span>&#123;  <span class="comment">//è·å–æ”»å‡»åŠ›</span></span><br><span class="line">     <span class="keyword">return</span> attack;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">strenthen</span><span class="params">()</span> </span>&#123;  <span class="comment">//å¼ºåŒ–ğŸ—¡çš„ç­‰çº§</span></span><br><span class="line">     <span class="keyword">int</span> random=(<span class="keyword">int</span>) (Math.random()+<span class="number">1</span>);</span><br><span class="line">     level+=random;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è‡³æ­¤ï¼Œæˆ‘ä»¬ç®€å•çš„å»ºå®Œäº†æˆ‘ä»¬çš„<code>ğŸ—¡</code>ç±»ã€‚</p><hr><p>æ¥ä¸‹æ¥æˆ‘ä»¬ç”¨<code>getClass()</code>æ–¹æ³•è·å–å‰‘çš„Classç±»çš„å®ä¾‹ã€‚<br><figure class="highlight pony"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Sword</span> s=<span class="function"><span class="keyword">new</span> <span class="title">Sword</span>();</span></span><br><span class="line"><span class="function"><span class="title">Class</span> <span class="title">cl</span>=<span class="title">s</span>.<span class="title">getClass</span>();</span></span><br><span class="line"><span class="function"><span class="title">System</span>.<span class="title">out</span>.<span class="title">println</span>(s.getClass().<span class="title">getName</span>());  <span class="comment">//è¾“å‡ºç»“æœä¸ºsword.Sword</span></span></span><br></pre></td></tr></table></figure></p><p>ä»¥ä¸Šæˆ‘ä»¬ç”¨åˆ°äº†Classç±»æœ€å¸¸ç”¨çš„æ–¹æ³•ï¼Œ<code>getName()</code>,å®ƒç”¨æ¥è¿”å›ç±»çš„åå­—.æ ¼å¼ä¸º<code>åŒ…å.ç±»å</code>.</p><hr><p>å¦‚æœæˆ‘ä»¬è¦åœ¨ç¨‹åºè¿è¡ŒæœŸé—´è¯»å–Classå¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨Classç±»ä¸­çš„<code>forName()</code>æ–¹æ³•ï¼š<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">  String className=<span class="string">"sword.Sword"</span>;</span><br><span class="line">  <span class="keyword">Class</span> cl=<span class="keyword">Class</span>.forName(className);</span><br><span class="line">  System.out.<span class="keyword">println</span>(cl.getName()); <span class="comment">//è¾“å‡ºåŒä¸Š</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">  e.printStackTrace();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>æ³¨æ„ä¸Šé¢ä½¿ç”¨tryå—æ¥æ£€æŸ¥å¼‚å¸¸ï¼ŒåŸå› æ˜¯å› ä¸ºclassNameå¯èƒ½ä¸º<code>ä¸å­˜åœ¨</code>çš„ç±».</p><hr><p>åå°„åº“ä¸­è¿˜æœ‰ä¸€ä¸ªéå¸¸å®ç”¨çš„æ–¹æ³•newInstance(),å®ƒç”¨æ¥åˆ›å»ºä¸€ä¸ªç±»çš„å®ä¾‹ã€‚<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">s</span><span class="selector-class">.getClass</span>()<span class="selector-class">.newInstance</span>();</span><br></pre></td></tr></table></figure></p><p>ä¸è¿‡<code>newInstance()</code>æ–¹æ³•éœ€è¦è°ƒç”¨é»˜è®¤çš„æ„é€ å™¨ï¼Œå¦‚æœè¿™ä¸ªç±»æ²¡æœ‰é»˜è®¤çš„æ„é€ å™¨ï¼Œå°±ä¼š<code>æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸</code></p><hr><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p><em><code>java.lang.Class</code></em><br>1.static Class forName(String className)<br>  <code>è¿”å›æè¿°ç±»åä¸ºclassNameçš„Classå¯¹è±¡ã€‚</code><br>2.Object newInstance()<br>  <code>è¿”å›è¿™ä¸ªç±»çš„ä¸€ä¸ªæ–°å®ä¾‹ã€‚</code><br>3.Class getClass()<br>  <code>è¿”å›è¿™ä¸ªç±»çš„Classå¯¹è±¡ã€‚</code><br>4.String getName()<br>  <code>è¿”å›è¯¥Classå¯¹è±¡çš„ç±»åã€‚</code></p><hr><p>å¾…ç»­</p>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åå°„ </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
